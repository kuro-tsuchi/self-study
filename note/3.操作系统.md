# 1. Linux 基础知识

Linux不是一个操作系统, Linux只是一个操作系统中的内核。内核建立了计算机软件与硬件之间通讯的平台，内核提供系统服务，比如文件管理、虚拟内存、设备I/O等；

## 1.1. Linux文件系统简介

一切都是文件。
在Linux操作系统中，所有被操作系统管理的资源，例如网络接口卡、磁盘驱动器、打印机、输入输出设备、普通文件或是目录都被看作是一个文件。

## 1.2. Linux支持5种文件类型

- 普通文件：符号是 -
- 目录文件：符号是 d
- 字符设备文件：符号是c
- 块设备文件：符号是b
- 符号链接文件：符号是l

## 1.3. Linux的目录结构

/bin： 存放二进制可执行文件(ls、cat、mkdir等)，常用命令一般都在这里；
/etc： 存放系统管理和配置文件；
/home： 存放所有用户文件的根目录，是用户主目录的基点，比如用户user的主目录就是/home/user，可以用~表示；
/usr ： 用于存放系统应用程序；
/opt： 额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把tomcat等都安装到这里；
/proc： 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息；
/root： 超级用户（系统管理员）的主目录（特权阶级^o^）；
/sbin: 存放二进制可执行文件，只有root才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等；
/dev： 用于存放设备文件；
/mnt： 系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统；
/boot： 存放用于系统引导时使用的各种文件；
/lib ： 存放着和系统运行相关的库文件 ；
/tmp： 用于存放各种临时文件，是公用的临时文件存储点；
/var： 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等；
/lost+found： 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里。

## 1.4. 1.4.Linux基本命令

### 1.4.1. 目录切换命令

- cd usr： 切换到该目录下usr目录
- cd ..（或cd../）： 切换到上一层目录
- cd /： 切换到系统根目录
- cd ~： 切换到用户主目录
- cd -： 切换到上一个操作所在目录

### 1.4.2. 目录的操作命令(增删改查)

- mkdir 目录名称： 增加目录
- ls或者ll（ll是ls -l的别名，ll命令可以看到该目录下的所有目录和文件的详细信息）：查看目录信息
- find 目录 参数： 寻找目录（查）
    `find /home -name "*.txt"`
- mv 目录名称 新目录名称： 修改目录的名称（改）
- mv 目录名称 目录的新位置： 移动目录的位置---剪切（改）
- cp -r 目录名称 目录拷贝的目标位置： 拷贝目录（改），-r代表递归拷贝
- rm [-rf] 目录: 删除目录（删）

### 1.4.3. 文件的操作命令(增删改查)

- touch 文件名称: 文件的创建（增）
- cat/more/less/tail 文件名称 文件的查看（查）
  - cat： 查看显示文件内容
  - more： 可以显示百分比，回车可以向下一行， 空格可以向下一页，q可以退出查看
  - less： 可以使用键盘上的PgUp和PgDn向上 和向下翻页，q结束查看
  - tail-10 ： 查看文件的后10行，Ctrl+C结束
  - tail -f 文件 可以对某个文件进行动态监控
- vim 文件： 修改文件的内容（改）

### 1.4.4. 压缩文件的操作命令

- 打包并压缩文件：

    Linux中的打包文件一般是以.tar结尾的，压缩的命令一般是以.gz结尾的。一般情况下打包和压缩是一起进行的，打包并压缩后的文件的后缀名一般.tar.gz。
    命令：tar -zcvf 打包压缩后的文件名 要打包压缩的文件 其中：

  - z：调用gzip压缩命令进行压缩
  - c：打包文件
  - v：显示运行过程
  - f：指定文件名

- 解压压缩包：

命令：tar [-xvf] 压缩文件
其中：x：代表解压

### 1.4.5. Linux的权限命令

操作系统中每个文件都拥有特定的权限、所属用户和所属组。权限是操作系统用来限制资源访问的机制，在Linux中权限一般分为读(readable)、写(writable)和执行(excutable)，分为三组。分别对应文件的属主(owner)，属组(group)和其他用户(other)，通过这样的机制来限制哪些用户、哪些组可以对特定的文件进行什么样的操作。通过 ls -l 命令我们可以 查看某个目录下的文件或目录的权限

#### 1.4.5.1. Linux中权限分为以下几种

r：代表权限是可读，r也可以用数字4表示
w：代表权限是可写，w也可以用数字2表示
x：代表权限是可执行，x也可以用数字1表示

#### 1.4.5.2. 文件和目录权限的区别

- 对于文件：

| 权限名称 | 可执行操作                |
| -------- | ------------------------- |
| r        | 可以使用cat查看文件的内容 |
| w        | 可以修改文件的内容        |
| x        | 可以将其运行为二进制文件  |

- 对于目录：

| 权限名称 | 可执行操作               |
| -------- | ------------------------ |
| r        | 可以查看目录下列表       |
| w        | 可以创建和删除目录下文件 |
| x        | 可以使用cd进入目录       |

需要注意的是超级用户可以无视普通用户的权限，即使文件目录权限是000，依旧可以访问。 在linux中的每个用户必须属于一个组，不能独立于组外。在linux中每个文件有所有者、所在组、其它组的概念。

修改文件/目录的权限的命令：chmod

### 1.4.6. Linux 用户管理

Linux系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。

用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。

Linux用户管理相关命令:

useradd 选项 用户名:添加用户账号
userdel 选项 用户名:删除用户帐号
usermod 选项 用户名:修改帐号
passwd 用户名:更改或创建用户的密码
passwd -S 用户名 :显示用户账号密码信息
passwd -d 用户名: 清除用户密码
useradd命令用于Linux中创建的新的系统用户。useradd可用来建立用户帐号。帐号建好之后，再用passwd设定帐号的密码．而可用userdel删除帐号。使用useradd指令所建立的帐号，实际上是保存在/etc/passwd文本文件中。

passwd命令用于设置用户的认证信息，包括用户密码、密码过期时间等。系统管理者则能用它管理系统用户的密码。只有管理者可以指定用户名称，一般用户只能变更自己的密码。

### 1.4.7. Linux系统用户组的管理

每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。
用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对/etc/group文件的更新。

#### 1.4.7.1. Linux系统用户组的管理相关命令

- groupadd 选项 用户组 :增加一个新的用户组
- groupdel 用户组:要删除一个已有的用户组
- groupmod 选项 用户组 : 修改用户组的属性

### 1.4.8. 其他常用命令

- pwd： 显示当前所在位置
- sudo + 其他命令：以系统管理者的身份执行指令，也就是说，经由 sudo 所执行的指令就好像是 root 亲自执行。
- grep 要搜索的字符串 要搜索的文件 --color： 搜索命令，--color代表高亮显示
- ps -ef/ps -aux： 这两个命令都是查看当前系统正在运行进程，两者的区别是展示格式不同。如果想要查看特定的进程可以使用这样的格式：ps aux|grep redis （查看包括redis字符串的进程），也可使用 pgrep redis -a。
- kill -9 进程的pid： 杀死进程（-9 表示强制终止。）

#### 1.4.8.1. 网络通信命令

- 查看当前系统的网卡信息：ifconfig
- 查看与某台机器的连接情况：ping
- 查看当前系统的端口使用：netstat -an
- shutdown： shutdown -h now： 指定现在立即关机；shutdown +5 "System will shutdown after 5 minutes"：指定5分钟后关机，同时送出警告信息给登入用户。
- reboot： reboot： 重开机。reboot -w： 做个重开机的模拟（只有纪录并不会真的重开机）。
